<?php
/**
394 168,383 306,675 314,688 193,659 68,503 42,440 42

to

[
  {x:658,y:78},
  {x:616,y:114},
  {x:541,y:82},
  {x:463,y:112},
  {x:452,y:189},
  {x:509,y:242},
  {x:584,y:238},
  {x:630,y:199},
  {x:672,y:217},
  {x:610,y:279},
  {x:503,y:288},
  {x:414,y:207},
  {x:417,y:94},
  {x:523,y:46},
  {x:612,y:60},
  {x:616,y:61}
];

**/

$string = '394 168,383 306,675 314,688 193,659 68,503 42,440 42';
$string .= ',';
$patterns = array();
$patterns[0] = '#(\d*) (\d*),#';

$replacements = array();

$replacements[0] = '{x:$1,y:$2},<br/>';

echo preg_replace($patterns, $replacements, $string);
?>
